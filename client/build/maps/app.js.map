{"version":3,"sources":["util.coffee","util.js","apps/list.coffee","apps/list.js","controllers/productsList.coffee","controllers/productsList.js","collections/products.coffee","collections/products.js"],"names":["angular","module","factory","$rootScope","Util","mediaQuery","$el","element","document","getElementById","get","this","css","call","controller","$scope","$window","$http","CollectionProducts","i","len","product","ref","util","products","length","set","product_id","logScope","console","log","modal","data","isLoading","isOpen","open","productId","detailGetURL","success","_this","status","headers","config","close","$on","event","all","prototype","uid","click","mq","window","location","detailPageURL","$broadcast","contains"],"mappings":"CAAA,WAAAA,QACCC,OAAO,WAGPC,QAAQ,OAAQ,SAEbC,YAEA,GAAAC,KCCA,ODDAA,SACAA,KAAKC,cAELD,KAAKC,WAAWC,IAAMN,QAAQO,QAAQC,SAASC,eAAe,gBAE9DL,KAAKC,WAAWK,IAAM,WCNpB,MDOEC,MAAKL,IAAIM,IAAI,YAEjBR,SCJDS,KAAKF;CCZR,WAAAX,QAAQC,OAAO,YACX,0BACA,WCCDY,KAAKF;CCHR,WAAAX,QACCC,OAAO,2BACJ,sBACA,SAEHa,WAAW,0BAA2B,SAEnCC,OACAC,QACAC,MACAC,mBACAd,MAEA,GAAAe,GAAAC,IAAAC,QAAAC,GAGA,IAHAP,OAAOQ,KAAOnB,KACdW,OAAOS,SAAW,GAAAN,oBAEfF,QAAQQ,SACP,IAAAF,IAAAN,QAAAQ,SAAAL,EAAA,EAAAC,IAAAE,IAAAG,OAAAL,IAAAD,EAAAA,ICTAE,QAAUC,IAAIH,GDUVJ,OAAOS,SAASE,IAAIL,QAAQM,WAAYN,QCmBhD,ODhBAL,SAAQY,SAAW,WCPjB,MDQEZ,SAAQD,OAASA,OACjBc,QAAQC,IAAIf,SAGhBA,OAAOgB,SACPhB,OAAOgB,MAAMC,KAAO,KACpBjB,OAAOgB,MAAME,WAAY,EACzBlB,OAAOgB,MAAMG,QAAS,EACtBnB,OAAOgB,MAAMI,KAAO,SAACC,WCLnB,MDMEf,SAAUN,OAAOS,SAASd,IAAI0B,WAC9BP,QAAQC,IAAIM,UAAWf,SACvBV,KAACuB,QAAS,EACVvB,KAACsB,WAAY,EACbhB,MAAMP,IAAIW,QAAQgB,cACbC,QAAQ,SAAAC,OCVb,MDUa,UAACP,KAAMQ,OAAQC,QAASC,QCPnC,MDQMH,OAACP,KAAOA,KACRO,MAACN,WAAY,EACbJ,QAAQC,IAAIE,QAHPrB,QAKjBI,OAAOgB,MAAMY,MAAQ,WCNnB,MDOEhC,MAAKqB,KAAO,KACZrB,KAAKuB,QAAS,GAElBnB,OAAO6B,IAAI,iBAAkB,SAACC,MAAOT,WCPnC,MDQErB,QAAOgB,MAAMI,KAAKC,iBCJvBvB,KAAKF;CC1CR,WAAAX,QACCC,OAAO,uBAEJ,SAEHC,QAAQ,qBAAsB,SAE3BC,WACAC,MAGA,GAAAc,mBCsBA,ODtBMA,oBAAA,WACW,QAAAA,sBACTP,KAACmC,OCiBP,MDlBE5B,oBAAA6B,UAGArC,IAAK,SAACsC,KCNN,MDOIrC,MAACmC,IAAIE,MAJT9B,mBAAA6B,UAMArB,IAAK,SAACsB,IAAK3B,SAUP,MATAV,MAACmC,IAAIE,KAAO3B,QAEZV,KAACmC,IAAIE,KAAKC,MAAQ,WACd,GAAAC,GACA,OADAA,IAAK9C,KAAKC,WAAWK,MACZ,MAANwC,IAAmB,MAANA,GACZC,OAAOC,SAAWzC,KAAC0C,cAEnBlD,WAAWmD,WAAW,iBAAkB3C,KAACgB,aAE1ChB,MAhBXO,mBAAA6B,UAkBAQ,SAAU,SAACP,KCHX,MDImB,UAAfrC,KAACmC,IAAIE,MCDJ9B,0BAMVL,KAAKF","file":"app.js","sourcesContent":["angular\n.module('Util', [\n# Dependencies\n])\n.factory 'Util', (\n# Dependency Injections\n    $rootScope\n) ->\n    Util = {}\n    Util.mediaQuery = {}\n        # Cache jQuery selection, whose `z-index` value describes current media query state\n    Util.mediaQuery.$el = angular.element document.getElementById('media-query')\n        # Query current media query state\n    Util.mediaQuery.get = ->\n        this.$el.css 'z-index'\n\n    Util",null,"angular.module 'App:List', [\n    'Controller:ProductsList'\n    'Util'\n]",null,"angular\n.module('Controller:ProductsList', [\n    'Collection:Products'\n    'Util'\n])\n.controller 'Controller:ProductsList', (\n# Dependency Injections\n    $scope\n    $window\n    $http\n    CollectionProducts\n    Util\n) ->\n    $scope.util = Util\n    $scope.products = new CollectionProducts\n\n    if $window.products\n        for product in $window.products\n            $scope.products.set product.product_id, product\n\n    # Dev\n    $window.logScope = ->\n        $window.$scope = $scope\n        console.log $scope\n\n    # Detail modal\n    $scope.modal = {}\n    $scope.modal.data = null\n    $scope.modal.isLoading = false\n    $scope.modal.isOpen = false\n    $scope.modal.open = (productId) ->\n        product = $scope.products.get productId\n        console.log productId, product\n        @isOpen = true\n        @isLoading = true\n        $http.get product.detailGetURL\n            .success (data, status, headers, config) =>\n                @data = data\n                @isLoading = false\n                console.log data\n\n    $scope.modal.close = ->\n        this.data = null\n        this.isOpen = false\n\n    $scope.$on 'product:detail', (event, productId) ->\n        $scope.modal.open productId\n",null,"angular\n.module('Collection:Products', [\n # Dependencies\n    'Util'\n])\n.factory 'CollectionProducts', (\n # Dependency Injections\n    $rootScope\n    Util\n) ->\n\n    class CollectionProducts\n        constructor: () ->\n            @all = {}\n\n        get: (uid) ->\n            @all[uid]\n\n        set: (uid, product) ->\n            @all[uid] = product\n\n            @all[uid].click = ->\n                mq = Util.mediaQuery.get()\n                if mq is \"0\" or mq is \"1\"\n                    window.location = @detailPageURL\n                else\n                    $rootScope.$broadcast 'product:detail', @product_id\n\n            return @\n\n        contains: (uid) ->\n            @all[uid] isnt undefined\n\n\n\n    CollectionProducts",null],"sourceRoot":"/source/"}